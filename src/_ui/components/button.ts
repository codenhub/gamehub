// Tipos para Ã­cones e tamanhos
type IconName =
  | "settings"
  | "play"
  | "pause"
  | "stop"
  | "rotateLeft"
  | "rotateRight"
  | "arrowLeft"
  | "arrowRight"
  | "arrowDown"
  | "arrowDrop";

type SizeName = "sm" | "md" | "lg";

const icons: Record<IconName, string> = {
  settings: `<svg viewBox="0 0 800 800" fill="currentColor">
    <path d="m690 300.6l-14-32.3c46.5-105.3 43.5-108.4 34.4-117.6l-58.7-58.3-5.9-4.9h-6.9c-3.6 0-13.9 0-105 41l-33.2-14c-43.5-106-48-106-60.6-106h-83.9c-12.6 0-17.5 0-57.3 107.1l-33.1 14q-92.3-39.4-107-39.4h-7.8l-64.1 62.7c-9.8 9.1-13.1 12.3 36.1 116.1l-14 32.1c-108.9 42-108.9 46.2-108.9 59.2v82.3c0 12.9 0 17.5 109.3 56l14 32c-46.5 105.3-43.5 108.5-34.4 117.6l59.3 59.4 5.9 5.2h7c3.5 0 14 0 104.8-42l33.3 14c43.4 106.7 47.7 106.7 60.4 106.7h83.9c12.9 0 17.5 0 57.5-107.1l33.4-14c61.1 25.9 96.9 39 106.4 39h8l64.6-63.2c9.2-9.2 12.4-12.4-36.7-115.8l14-32.1c109.2-42 109.2-46.6 109.2-59.2v-82c-0.6-13-0.6-17.5-110-56.5zm-290 236.4c-55.2-1.1-104.3-35.2-124.6-86.5-20.3-51.3-7.9-109.7 31.5-148.3 39.4-38.6 98.1-49.9 148.9-28.5 50.9 21.4 84 71.1 84 126.3-0.2 18.2-4 36.1-11.1 52.8-7.1 16.8-17.5 31.9-30.5 44.6-12.9 12.7-28.3 22.8-45.2 29.6-16.8 6.8-34.8 10.2-53 10z"/>
  </svg>`,
  play: `<svg viewBox="-0.5 0 7 7">
    <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-347.000000, -3766.000000)" fill="currentColor">
            <g transform="translate(56.000000, 160.000000)">
                <path d="M296.494737,3608.57322 L292.500752,3606.14219 C291.83208,3605.73542 291,3606.25002 291,3607.06891 L291,3611.93095 C291,3612.7509 291.83208,3613.26444 292.500752,3612.85767 L296.494737,3610.42771 C297.168421,3610.01774 297.168421,3608.98319 296.494737,3608.57322"></path>
            </g>
        </g>
    </g>
  </svg>`,
  pause: `<svg viewBox="0 0 800 800" fill="currentColor">
    <path d="m0.3 720.8q0 33 22.8 55.9 22.9 22.8 57.1 24.1h159.9q33 0 57.1-24.1 24.1-24.2 22.9-55.9v-640.8q0-33-22.9-57.1-22.8-24.1-57.1-22.8h-159.9q-33 0-57.1 22.8-24.1 22.8-22.8 57.1zm479.6 0q0 33 24.2 55.8 24.1 22.9 55.8 24.1h159.9q33 0 57.1-24.1 24.1-24.1 22.8-55.8v-640.8q0-33-22.8-57.1-22.9-24.1-57.1-22.8h-159.9q-33 0-55.8 22.8-22.9 22.8-24.2 57.1z"/>
  </svg>`,
  stop: `<svg viewBox="0 0 800 800" fill="currentColor">
    <path fill-rule="evenodd" d="m742.9 0h-685.8c-31.5 0-57.1 25.6-57.1 57.1v685.8c0 31.5 25.6 57.1 57.1 57.1h685.8c31.5 0 57.1-25.6 57.1-57.1v-685.8c0-31.5-25.6-57.1-57.1-57.1z"/>
  </svg>`,
  rotateLeft: `<svg viewBox="0 0 16 16" fill="currentColor">
    <path d="M6 7L7 6L4.70711 3.70711L5.19868 3.21553C5.97697 2.43724 7.03256 2 8.13323 2C11.361 2 14 4.68015 14 7.93274C14 11.2589 11.3013 14 8 14C6.46292 14 4.92913 13.4144 3.75736 12.2426L2.34315 13.6569C3.90505 15.2188 5.95417 16 8 16C12.4307 16 16 12.3385 16 7.93274C16 3.60052 12.4903 0 8.13323 0C6.50213 0 4.93783 0.647954 3.78447 1.80132L3.29289 2.29289L1 0L0 1V7H6Z"/>
  </svg>`,
  rotateRight: `<svg viewBox="0 0 800 800" fill="currentColor">
    <path d="m500 350l-50-50 114.6-114.6-24.5-24.6c-38.9-38.9-91.7-60.8-146.8-60.8-161.4 0-293.3 134-293.3 296.6 0 166.3 134.9 303.4 300 303.4 76.9 0 153.5-29.3 212.1-87.9l70.7 70.7c-78.1 78.1-180.5 117.2-282.8 117.2-221.5 0-400-183.1-400-403.4 0-216.6 175.5-396.6 393.3-396.6 81.6 0 159.8 32.4 217.5 90.1l24.6 24.5 114.6-114.6 50 50v300z"/>
  </svg>`,
  arrowLeft: `<svg viewBox="0 0 800 800" fill="currentColor">
    <path d="m591.3 13c-17.3-17.3-45.3-17.3-62.6 0l-294.6 294.5c-51.9 52-51.9 136.1 0 188.1l291.2 291.5c17.3 17.3 45.4 17.3 62.7 0 17.3-17.4 17.3-45.4 0-62.7l-291.3-291.4c-17.3-17.3-17.3-45.4 0-62.7l294.6-294.6c17.4-17.3 17.4-45.4 0-62.7z"/>
  </svg>`,
  arrowRight: `<svg viewBox="0 0 800 800" fill="currentColor">
    <path d="m208.7 787c17.3 17.3 45.3 17.3 62.6 0l294.6-294.5c51.9-52 51.9-136.1 0-188.1l-291.2-291.5c-17.3-17.3-45.4-17.3-62.7 0-17.3 17.4-17.3 45.4 0 62.7l291.3 291.4c17.3 17.3 17.3 45.4 0 62.7l-294.6 294.6c-17.4 17.3-17.4 45.4 0 62.7z"/>
  </svg>`,
  arrowDown: `<svg viewBox="0 0 800 800" fill="currentColor">
    <path d="m13 208.7c-17.3 17.3-17.3 45.3 0 62.6l294.5 294.6c52 51.9 136.1 51.9 188.1 0l291.5-291.2c17.3-17.3 17.3-45.4 0-62.7-17.4-17.3-45.4-17.3-62.7 0l-291.4 291.3c-17.3 17.3-45.4 17.3-62.7 0l-294.6-294.6c-17.3-17.4-45.4-17.4-62.7 0z"/>
  </svg>`,
  arrowDrop: `<svg viewBox="0 0 800 800" fill="currentColor">
    <path d="m45 588.7h710c24.9 0 45 20.2 45 45 0 24.9-20.1 45-45 45h-710c-24.9 0-45-20.1-45-45 0-24.8 20.1-45 45-45z"/>
    <path d="m13 133.7c-17.3 17.3-17.3 45.3 0 62.6l294.5 294.6c52 51.9 136.1 51.9 188.1 0l291.5-291.2c17.3-17.3 17.3-45.4 0-62.7-17.4-17.3-45.4-17.3-62.7 0l-291.4 291.3c-17.3 17.3-45.4 17.3-62.7 0l-294.6-294.6c-17.3-17.4-45.4-17.4-62.7 0z"/>
  </svg>`,
};
const sizes: Record<SizeName, string> = {
  sm: "p-2 h-8 min-w-8 gap-1",
  md: "p-2 h-10 min-w-10 gap-2",
  lg: "p-3 h-12 min-w-12 gap-2",
};

class IconButton extends HTMLElement {
  connectedCallback(): void {
    const iconName = this.getAttribute("icon") as IconName | null;
    const sizeName = this.getAttribute("size") as SizeName | null;

    const icon = (iconName && icons[iconName]) || "";
    const size = (sizeName && sizes[sizeName]) || sizes.sm;

    const content = this.innerHTML.trim();
    const classList = this.getAttribute("class")?.trim() ?? "";
    const id = this.getAttribute("id")?.trim() ?? "";

    this.outerHTML = `
      <button id="${id}"
        class="flex items-center justify-center rounded-sm ${size} bg-neutral-200 dark:bg-neutral-700 ${classList}">
        <div class="flex h-full aspect-square">${icon}</div>
        ${content}
      </button>`;
  }
}

customElements.define("gamehub-button", IconButton);
