<!doctype html>
<html lang="en" class="dark">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Geometric fall | GameHub</title>
    <link rel="stylesheet" href="../_ui/main.css" />
    <script type="module" src="../_ui/main.js"></script>
    <script src="../_ui/components/index.js" type="module" defer></script>
    <script src="./index.ts" type="module" defer></script>
  </head>
  <body>
    <gh-header title="Geometric fall" backBtn></gh-header>

    <main class="flex flex-1 size-full justify-center p-4">
      <!-- GAME CONTAINER -->
      <section
        class="flex flex-1 max-w-7xl w-full h-auto gap-4 max-sm:flex-col max-sm:items-center"
      >
        <div class="flex flex-col gap-4 h-full">
          <div class="flex items-center justify-between gap-4">
            <!-- CONTROLS -->
            <div class="flex gap-2">
              <button id="play" class="icon-btn">
                <img
                  src="/assets/icons/play.webp"
                  alt="Play icon"
                  class="size-4"
                />
              </button>
              <button id="pause" class="icon-btn hidden">
                <div class="flex gap-1">
                  <div class="bg-accent-contrast h-4 w-1.5"></div>
                  <div class="bg-accent-contrast h-4 w-1.5"></div>
                </div>
              </button>
              <button id="stop" class="icon-btn hidden">
                <div
                  class="bg-accent-contrast size-4"
                  aria-label="Stop icon"
                ></div>
              </button>
              <p class="ml-2">Score: <span id="score">0</span></p>
              <p>Best: <span id="high-score">0</span></p>
            </div>
            <!-- NEXT PIECE -->
            <div
              class="relative sm:hidden size-24 aspect-square p-1 pixel-corner-lg-4 bg-border"
            >
              <p
                class="absolute top-1 left-1/2 -translate-x-1/2 z-10 text-base"
              >
                Next:
              </p>
              <canvas
                class="size-full pixel-corner-lg-4 bg-foreground next-canvas"
              ></canvas>
            </div>
          </div>
          <!-- GAME -->
          <div
            class="relative bg-border pixel-corner-lg-4 p-1 sm:max-w-lg h-full"
          >
            <canvas
              id="game"
              class="size-full pixel-corner-lg-4 bg-foreground"
            ></canvas>

            <!-- Start screen -->
            <div
              id="start-screen"
              class="absolute inset-0 bg-foreground/80 flex flex-col items-center justify-center gap-4 pixel-corner-lg-4 z-20"
            >
              <h2 class="text-center uppercase">Geometric Fall</h2>
              <p class="text-center">Clear lines to score points!</p>
              <button id="start-btn" class="primary-btn">Play</button>
            </div>

            <!-- Game over screen -->
            <div
              id="game-over-screen"
              class="absolute inset-0 flex-col items-center justify-center gap-2 bg-foreground/80 pixel-corner-lg-4 z-20 hidden"
            >
              <h2 class="text-error">GAME OVER</h2>
              <p class="text-2xl mb-2">Score: <span id="final-score">0</span></p>
              <button id="restart-btn" class="primary-btn">Try Again</button>
            </div>

          </div>
        </div>

        <!-- DESKTOP CONTROLS -->
        <div class="hidden flex-col gap-4 w-min sm:flex">
          <div
            class="relative w-full aspect-square p-1 pixel-corner-lg-4 bg-border"
          >
            <p class="absolute top-1 left-1/2 -translate-x-1/2 z-10">Next:</p>
            <canvas
              class="next-canvas size-full pixel-corner-lg-4 bg-foreground"
            ></canvas>
          </div>
          <div class="flex gap-4">
            <button class="icon-btn size-12 dropBtn">
              <img
                src="/assets/icons/chevron-drop.webp"
                alt="Drop down icon"
                class="size-8"
              />
            </button>
            <button class="icon-btn size-12 rotateLeftBtn">
              <img
                src="/assets/icons/rotate.webp"
                alt="Rotate clockwise icon"
                class="size-8"
              />
            </button>
            <button class="icon-btn size-12 rotateRightBtn">
              <img
                src="/assets/icons/rotate-counter.webp"
                alt="Rotate counter-clockwise icon"
                class="size-8"
              />
            </button>
          </div>
          <div class="flex gap-4">
            <button class="icon-btn size-12 downBtn">
              <img
                src="/assets/icons/chevron-up.webp"
                alt="Move down icon"
                class="size-8 rotate-180"
              />
            </button>
            <button class="icon-btn size-12 leftBtn">
              <img
                src="/assets/icons/chevron-up.webp"
                alt="Move left icon"
                class="size-8 -rotate-90"
              />
            </button>
            <button class="icon-btn size-12 rightBtn">
              <img
                src="/assets/icons/chevron-up.webp"
                alt="Move right icon"
                class="size-8 rotate-90"
              />
            </button>
          </div>
        </div>

        <!-- MOBILE CONTROLS -->
        <div class="flex w-full justify-center gap-4 sm:hidden">
          <button class="icon-btn size-12 dropBtn">
            <img
              src="/assets/icons/chevron-drop.webp"
              alt="Drop down icon"
              class="size-8"
            />
          </button>
          <button class="icon-btn size-12 rotateLeftBtn">
            <img
              src="/assets/icons/rotate.webp"
              alt="Rotate clockwise icon"
              class="size-8"
            />
          </button>
          <button class="icon-btn size-12 rotateRightBtn">
            <img
              src="/assets/icons/rotate-counter.webp"
              alt="Rotate counter-clockwise icon"
              class="size-8"
            />
          </button>
          <button class="icon-btn size-12 downBtn">
            <img
              src="/assets/icons/chevron-down.webp"
              alt="Move down icon"
              class="size-8"
            />
          </button>
          <button class="icon-btn size-12 leftBtn">
            <img
              src="/assets/icons/chevron-left.webp"
              alt="Move left icon"
              class="size-8"
            />
          </button>
          <button class="icon-btn size-12 rightBtn">
            <img
              src="/assets/icons/chevron-right.webp"
              alt="Move right icon"
              class="size-8"
            />
          </button>
        </div>
      </section>
    </main>
  </body>
</html>
