<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Geometric fall | GameHub</title>
    <link rel="stylesheet" href="../../_ui/styles/index.css" />
    <script type="module" src="../../_ui/scripts/index.ts"></script>
    <script src="../../_ui/components/index.js" type="module" defer></script>
    <script src="./index.ts" type="module" defer></script>
  </head>
  <body>
    <gh-header title="Geometric fall" backBtn></gh-header>

    <main class="flex flex-1 size-full justify-center p-4">
      <!-- GAME CONTAINER -->
      <section class="flex flex-1 max-w-7xl w-full h-auto gap-4 max-sm:flex-col max-sm:items-center">
        <div class="flex flex-col gap-4 h-full">
          <div class="flex items-center justify-between gap-4">
            <!-- CONTROLS -->
            <div class="flex gap-2">
              <button id="play" class="icon-btn">
                <gh-icon src="/assets/icons/play.webp"></gh-icon>
              </button>
              <button id="pause" class="icon-btn hidden">
                <div class="flex gap-1">
                  <div class="bg-primary-contrast h-4 w-1.5"></div>
                  <div class="bg-primary-contrast h-4 w-1.5"></div>
                </div>
              </button>
              <button id="stop" class="icon-btn hidden">
                <div class="bg-primary-contrast size-4" aria-label="Stop icon"></div>
              </button>
              <p class="ml-2">
                Score:
                <span id="score">0</span>
              </p>
              <p>
                Best:
                <span id="high-score">0</span>
              </p>
            </div>
            <!-- NEXT PIECE -->
            <div class="relative sm:hidden size-24 aspect-square p-1 pixel-corner-lg-4 bg-border">
              <p class="absolute top-1 left-1/2 -translate-x-1/2 z-10 text-base">Next:</p>
              <canvas class="size-full pixel-corner-lg-4 bg-foreground next-canvas"></canvas>
            </div>
          </div>
          <!-- GAME -->
          <div class="relative bg-border pixel-corner-lg-4 p-1 sm:max-w-lg h-full">
            <canvas id="game" class="size-full pixel-corner-lg-4 bg-foreground"></canvas>

            <!-- Start screen -->
            <div
              id="start-screen"
              class="absolute inset-0 bg-foreground/80 flex flex-col items-center justify-center gap-4 pixel-corner-lg-4 z-20"
            >
              <h2 class="text-center uppercase">Geometric Fall</h2>
              <p class="text-center">Clear lines to score points!</p>
              <button id="start-btn" class="primary-btn">Play</button>
            </div>

            <!-- Game over screen -->
            <div
              id="game-over-screen"
              class="absolute inset-0 flex-col items-center justify-center gap-2 bg-foreground/80 pixel-corner-lg-4 z-20 hidden"
            >
              <h2 class="text-error">GAME OVER</h2>
              <p class="text-2xl mb-2">
                Score:
                <span id="final-score">0</span>
              </p>
              <button id="restart-btn" class="primary-btn">Try Again</button>
            </div>
          </div>
        </div>

        <!-- DESKTOP CONTROLS -->
        <div class="hidden flex-col gap-4 w-min sm:flex">
          <div class="relative w-full aspect-square p-1 pixel-corner-lg-4 bg-border">
            <p class="absolute top-1 left-1/2 -translate-x-1/2 z-10">Next:</p>
            <canvas class="next-canvas size-full pixel-corner-lg-4 bg-foreground"></canvas>
          </div>
          <div class="flex gap-4">
            <button class="icon-btn size-12 dropBtn">
              <gh-icon src="/assets/icons/chevron-drop.webp" width="2rem"></gh-icon>
            </button>
            <button class="icon-btn size-12 rotateLeftBtn">
              <gh-icon src="/assets/icons/rotate.webp" width="2rem"></gh-icon>
            </button>
            <button class="icon-btn size-12 rotateRightBtn">
              <gh-icon src="/assets/icons/rotate-counter.webp" width="2rem"></gh-icon>
            </button>
          </div>
          <div class="flex gap-4">
            <button class="icon-btn size-12 downBtn">
              <span class="flex rotate-180">
                <gh-icon src="/assets/icons/chevron-up.webp" width="2rem"></gh-icon>
              </span>
            </button>
            <button class="icon-btn size-12 leftBtn">
              <span class="flex -rotate-90">
                <gh-icon src="/assets/icons/chevron-up.webp" width="2rem"></gh-icon>
              </span>
            </button>
            <button class="icon-btn size-12 rightBtn">
              <span class="flex rotate-90">
                <gh-icon src="/assets/icons/chevron-up.webp" width="2rem"></gh-icon>
              </span>
            </button>
          </div>
        </div>

        <!-- MOBILE CONTROLS -->
        <div class="flex w-full justify-center gap-4 sm:hidden">
          <button class="icon-btn size-12 dropBtn">
            <gh-icon src="/assets/icons/chevron-drop.webp" width="2rem"></gh-icon>
          </button>
          <button class="icon-btn size-12 rotateLeftBtn">
            <gh-icon src="/assets/icons/rotate.webp" width="2rem"></gh-icon>
          </button>
          <button class="icon-btn size-12 rotateRightBtn">
            <gh-icon src="/assets/icons/rotate-counter.webp" width="2rem"></gh-icon>
          </button>
          <button class="icon-btn size-12 downBtn">
            <gh-icon src="/assets/icons/chevron-down.webp" width="2rem"></gh-icon>
          </button>
          <button class="icon-btn size-12 leftBtn">
            <gh-icon src="/assets/icons/chevron-left.webp" width="2rem"></gh-icon>
          </button>
          <button class="icon-btn size-12 rightBtn">
            <gh-icon src="/assets/icons/chevron-right.webp" width="2rem"></gh-icon>
          </button>
        </div>
      </section>
    </main>
  </body>
</html>
